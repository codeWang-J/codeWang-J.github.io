<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="WangJin"><meta name="copyright" content="WangJin"><meta name="generator" content="Hexo 5.3.0"><meta name="theme" content="hexo-theme-yun"><title>Python常用魔术方法 | Hexo</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.2.4/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":"瓦瓦鱼的小窝","version":"1.8.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"darken":"https://cdn.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="1、常用魔术方法魔术方法就是一个类&#x2F;对象中的方法，和普通方法唯一的不同时，普通方法需要调用！而魔术方法是在特定时刻自动触发。 12345671、__init__初始化魔术方法触发时机：初始化对象时触发（不是实例化触发，但是和实例化在一个操作中）参数：至少有一个self，接收对象返回值：无作用：初始化对象的成员注意：使用该方式初始化的成员都是直接写入对象当中，类中无法具有 123456782、__n">
<meta property="og:type" content="article">
<meta property="og:title" content="Python常用魔术方法">
<meta property="og:url" content="http://example.com/2021/05/28/Python%E5%B8%B8%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1、常用魔术方法魔术方法就是一个类&#x2F;对象中的方法，和普通方法唯一的不同时，普通方法需要调用！而魔术方法是在特定时刻自动触发。 12345671、__init__初始化魔术方法触发时机：初始化对象时触发（不是实例化触发，但是和实例化在一个操作中）参数：至少有一个self，接收对象返回值：无作用：初始化对象的成员注意：使用该方式初始化的成员都是直接写入对象当中，类中无法具有 123456782、__n">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-05-28T12:56:16.000Z">
<meta property="article:modified_time" content="2021-05-28T13:07:27.639Z">
<meta property="article:author" content="WangJin">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="WangJin"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="WangJin"></a><div class="site-author-name"><a href="/about/">WangJin</a></div><span class="site-name">Hexo</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">14</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81%E5%B8%B8%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">1、常用魔术方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E7%AC%A6%E7%9B%B8%E5%85%B3%E7%9A%84%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">描述符相关的魔术方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8E%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">与属性操作相关的魔术方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95-%E4%B8%8A%E5%B8%9D%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">运算相关魔术方法(上帝模式)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">比较运算相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.</span> <span class="toc-text">算术运算相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.3.</span> <span class="toc-text">反运算相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.4.</span> <span class="toc-text">赋值运算相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.5.</span> <span class="toc-text">一元运算相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95-JIANG"><span class="toc-number">4.6.</span> <span class="toc-text">类型转换相关魔术方法 JIANG</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.7.</span> <span class="toc-text">上下文管理相关魔术方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%9E%8B%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">4.8.</span> <span class="toc-text">容器类型相关魔术方法</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2021/05/28/Python%E5%B8%B8%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="WangJin"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python常用魔术方法</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-05-28 20:56:16" itemprop="dateCreated datePublished" datetime="2021-05-28T20:56:16+08:00">2021-05-28</time></div><div class="post-classify"><span class="post-tag"><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">笔记</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="1、常用魔术方法"><a href="#1、常用魔术方法" class="headerlink" title="1、常用魔术方法"></a>1、常用魔术方法</h1><p>魔术方法就是一个类/对象中的方法，和普通方法唯一的不同时，普通方法需要调用！而魔术方法是在特定时刻自动触发。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、__init__</span><br><span class="line">初始化魔术方法</span><br><span class="line">触发时机：初始化对象时触发（不是实例化触发，但是和实例化在一个操作中）</span><br><span class="line">参数：至少有一个self，接收对象</span><br><span class="line">返回值：无</span><br><span class="line">作用：初始化对象的成员</span><br><span class="line">注意：使用该方式初始化的成员都是直接写入对象当中，类中无法具有</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2、__new__</span><br><span class="line">实例化魔术方法</span><br><span class="line">触发时机： 在实例化对时触发</span><br><span class="line">参数：至少一个cls 接收当前类</span><br><span class="line">返回值：必须返回一个对象实例</span><br><span class="line">作用：实例化对象</span><br><span class="line">注意：实例化对象是Object类底层实现，其他类继承了Object的__new__才能够实现实例化对象。</span><br><span class="line">没事别碰这个魔术方法，先触发__new__才会触发__init__ </span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3.__del__</span><br><span class="line">析构魔术方法</span><br><span class="line">触发时机：当对象没有用（没有任何变量引用）的时候被触发</span><br><span class="line">参数：一个self 结婚搜对象</span><br><span class="line">返回值：无</span><br><span class="line">作用：使用完对象是回收资源</span><br><span class="line">注意：del不一定会触发当前方法，只有当前对象没有任何变量接收时才会触发</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">4.__call__</span><br><span class="line">调用对象的魔术方法</span><br><span class="line">触发时机:将对象当作函数调用时触发 对象()</span><br><span class="line">参数:至少一个self接收对象，其余根据调用时参数决定</span><br><span class="line">返回值：根据情况而定</span><br><span class="line">作用：可以将复杂的步骤进行合并操作，减少调用的步骤，方便使用</span><br><span class="line">注意：无</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5.__len__</span><br><span class="line">触发时机：使用len(对象) 的时候触发</span><br><span class="line">参数：一个参数self</span><br><span class="line">返回值：必须是一个整型</span><br><span class="line">作用：可以设置为检测对象成员个数，但是也可以进行其他任意操作</span><br><span class="line">注意：返回值必须必须是整数，否则语法报错，另外该要求是格式要求。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">6.__str__</span><br><span class="line">触发时机:使用print(对象)或者str(对象)的时候触发</span><br><span class="line">参数：一个self接收对象</span><br><span class="line">返回值：必须是字符串类型</span><br><span class="line">作用：print（对象时）进行操作，得到字符串，通常用于快捷操作</span><br><span class="line">注意：无</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">7.__repr__</span><br><span class="line">触发时机:在使用repr(对象)的时候触发</span><br><span class="line">参数：一个self接收对象</span><br><span class="line">返回值：必须是字符串</span><br><span class="line">作用：将对象转使用repr化为字符串时使用，也可以用于快捷操作</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">repr函数和str函数处理字符串只有一个区别：</span><br><span class="line"></span><br><span class="line">str的结果 字符串本身 （结果可以被eval执行）</span><br><span class="line"></span><br><span class="line">如：x &#x3D; &#39;无图言Diao&#39; str() -&gt;无图言Diao</span><br><span class="line"></span><br><span class="line">rerpr的结果 字符串定义结构 （eavl不会执行repr结果）</span><br><span class="line"></span><br><span class="line">如：x &#x3D; &#39;无图言Diao&#39; repr() -&gt;&#39;无图言Diao&#39;</span><br><span class="line"></span><br><span class="line">备注: 在类中通常情况下__str__和__repr__ 设置相同即可</span><br><span class="line"></span><br><span class="line">eval()</span><br><span class="line"></span><br><span class="line">函数 将字符串当作python代码执行</span><br><span class="line"></span><br><span class="line">格式：eval(字符串)</span><br><span class="line"></span><br><span class="line">返回值：可以有返回值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">8.__bool__</span><br><span class="line">触发时机: 使用bool(对象)的时候触发</span><br><span class="line">参数：一个self接收对象</span><br><span class="line">返回值：必须是布尔值</span><br><span class="line">作用：根据实际情况决定，可以作为快捷方式使用</span><br><span class="line">注意:仅适合于返回布尔值的操作</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">9.__format__</span><br><span class="line">触发时机：使用字符串.format(对象)时候触发</span><br><span class="line">参数：一个self接收对象，一个参数接收format的&#123;&#125;中的格式，例如:&gt;5</span><br><span class="line">返回值:必须是字符串</span><br><span class="line">作用：设置对象可以作为format的参数，并且自定义对象格式化的规则</span><br><span class="line">注意：无</span><br></pre></td></tr></table></figure>
<h1 id="描述符相关的魔术方法"><a href="#描述符相关的魔术方法" class="headerlink" title="描述符相关的魔术方法"></a>描述符相关的魔术方法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.__get__()</span><br><span class="line">触发时机：在获取指定描述符操作的成员属性的值的时候触发</span><br><span class="line">参数：1描述符对象本身，2描述符描述的属性所在的对象，描述符描述的对象的类</span><br><span class="line">返回值：必须有，不然无法获取相应属性值</span><br><span class="line">注意：仅在描述符中使用</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2.__set__()</span><br><span class="line">触发时机：在设置或者添加指定描述符操作的成员属性的时候触发</span><br><span class="line">参数：1描述符对象本身，2描述符描述的属性所在的对象,3要设置的值</span><br><span class="line">返回值：无</span><br><span class="line">注意：仅在描述符中使用</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">3.__delete__()</span><br><span class="line">触发时机：在删除指定描述符操作的成员属性的时候触发</span><br><span class="line">参数：1描述符对象本身，2描述符描述的属性所在的对象</span><br><span class="line">返回值：无</span><br><span class="line">注意：仅在描述符中使用</span><br></pre></td></tr></table></figure>
<h1 id="与属性操作相关的魔术方法"><a href="#与属性操作相关的魔术方法" class="headerlink" title="与属性操作相关的魔术方法"></a>与属性操作相关的魔术方法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.__getattr__（）</span><br><span class="line">触发时机：获取不存在的对象成员时触发</span><br><span class="line">参数：1接收当前对象的self，一个是获取成员名称的字符串</span><br><span class="line">返回值：必须有值</span><br><span class="line">作用:为访问不存在的属性设置值</span><br><span class="line">注意：getattribute无论何时都会在getattr之前触发，触发了getattribute就不会在触发getattr了</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2.__setattr__（）</span><br><span class="line">触发时机:设置对象成员值的时候触发</span><br><span class="line">参数:1个当前对象的self,一个是要设置的成员名称字符串,一个是要设置的值</span><br><span class="line">返回值:无 过程操作</span><br><span class="line">作用:接管设置操作,可以在设置前之前进行判断验证等行为</span><br><span class="line">注意:在当前方法中无法使用成员&#x3D;值的方式直接设置成员，否则会无限递归，必须借助object的设置方法来完成</span><br><span class="line"></span><br><span class="line">object.__setattr__（参数1，参数2，参数3）</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">3.__delattr__（）</span><br><span class="line">触发时机：删除对象成员时触发</span><br><span class="line">参数：一个当前对象的self</span><br><span class="line">返回值：无</span><br><span class="line">作用:可以在删除成员时进行验证。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4.__getattribute__（）</span><br><span class="line">触发时机：使用对象成员时触发，无论成员是否存在</span><br><span class="line">参数：1个接收当前对象self，一个是获取的成员的名称字符串</span><br><span class="line">返回值：必须有</span><br><span class="line">作用：在具有封装操作（私有化时），为程序开部分访问权限使用</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5.__dir__（）</span><br><span class="line">触发时机：dir（对象）的时候触发</span><br><span class="line">参数:1个接收当前对象self</span><br><span class="line">返回值：必须为序列类型（列表，元组，集合等，）</span><br><span class="line">作用：可以自定义成员列表的返回值</span><br></pre></td></tr></table></figure>
<h1 id="运算相关魔术方法-上帝模式"><a href="#运算相关魔术方法-上帝模式" class="headerlink" title="运算相关魔术方法(上帝模式)"></a>运算相关魔术方法(上帝模式)</h1><h2 id="比较运算相关魔术方法"><a href="#比较运算相关魔术方法" class="headerlink" title="比较运算相关魔术方法"></a>比较运算相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.__lt__()</span><br><span class="line">格式：</span><br><span class="line">    def __lt__(self,other):</span><br><span class="line">    return 数据</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行小于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义小于号的行为：x &lt; y 调用 x.lt(y)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2.__le__()</span><br><span class="line">格式：</span><br><span class="line">    def __le__(self):</span><br><span class="line">    return str</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行小于等于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义小于等于号的行为：x &lt;&#x3D; y 调用 x.le(y)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3.__gt__()</span><br><span class="line">格式：</span><br><span class="line">    def __gt__(self):</span><br><span class="line">    return str</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行大于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义大于号的行为：x &gt; y 调用 x.gt(y)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">4.__ge__()</span><br><span class="line">格式：</span><br><span class="line">    def __ge__(self):</span><br><span class="line">    return str</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行大于等于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义大于等于号的行为：x &gt;&#x3D; y 调用 x.ge(y)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">5.__eq__()</span><br><span class="line">格式：</span><br><span class="line">    def __eq__(self):</span><br><span class="line">    return str</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行等于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义大于等于号的行为：x &#x3D;&#x3D; y 调用 x.eq(y)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">6.__ne__()</span><br><span class="line">格式：</span><br><span class="line">    def __ne__(self):</span><br><span class="line">    return str</span><br><span class="line"></span><br><span class="line">特征：</span><br><span class="line">    触发时机：进行不等于判断时自动触发</span><br><span class="line">    参数：2个参数第一个是self，第二个判断的第二个对象</span><br><span class="line">    返回值：返回值可以任意类型，推荐布尔值</span><br><span class="line">    作用：定义不等号的行为：x !&#x3D; y 调用 x.ne(y)</span><br></pre></td></tr></table></figure>
<h2 id="算术运算相关魔术方法"><a href="#算术运算相关魔术方法" class="headerlink" title="算术运算相关魔术方法"></a>算术运算相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">__add__(self, other)           定义加法的行为：+</span><br><span class="line">__sub__(self, other)           定义减法的行为：-</span><br><span class="line">__mul__(self, other)           定义乘法的行为：</span><br><span class="line">__truediv__(self, other)       定义真除法的行为：&#x2F;</span><br><span class="line">__floordiv__(self, other)      定义整数除法的行为：&#x2F;&#x2F;</span><br><span class="line">__mod__(self, other)           定义取模算法的行为：%</span><br><span class="line">__divmod__(self, other)        定义当被 divmod() 调用时的行为</span><br><span class="line">__pow__(self, other[, modulo]) 定义当被 power() 调用或 ** 运算时的行为</span><br><span class="line">__lshift__(self, other)        定义按位左移位的行为：&lt;&lt;</span><br><span class="line">__rshift__(self, other)        定义按位右移位的行为：&gt;&gt;</span><br><span class="line">__and__(self, other)           定义按位与操作的行为：&amp;</span><br><span class="line">__xor__(self, other)           定义按位异或操作的行为：^</span><br><span class="line">__or__(self, other)            定义按位或操作的行为：|</span><br></pre></td></tr></table></figure>
<h2 id="反运算相关魔术方法"><a href="#反运算相关魔术方法" class="headerlink" title="反运算相关魔术方法"></a>反运算相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">__radd__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rsub__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rmul__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rtruediv__(self, other)  与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rfloordiv__(self, other) 与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rmod__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rdivmod__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rpow__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rlshift__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rrshift__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rand__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__rxor__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用</span><br><span class="line">__ror__(self, other)       与上方相同，当左操作数不支持相应的操作时被调用</span><br></pre></td></tr></table></figure>
<h2 id="赋值运算相关魔术方法"><a href="#赋值运算相关魔术方法" class="headerlink" title="赋值运算相关魔术方法"></a>赋值运算相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">__iadd__(self, other)             定义赋值加法的行为：+&#x3D;</span><br><span class="line">__isub__(self, other)             定义赋值减法的行为：-&#x3D;</span><br><span class="line">__imul__(self, other)             定义赋值乘法的行为：&#x3D;</span><br><span class="line">__itruediv__(self, other)         定义赋值真除法的行为：&#x2F;&#x3D;</span><br><span class="line">__ifloordiv__(self, other)        定义赋值整数除法的行为：&#x2F;&#x2F;&#x3D;</span><br><span class="line">__imod__(self, other)             定义赋值取模算法的行为：%&#x3D;</span><br><span class="line">__ipow__(self, other[, modulo])   定义赋值幂运算的行为：**&#x3D;</span><br><span class="line">__ilshift__(self, other)          定义赋值按位左移位的行为：&lt;&lt;&#x3D;</span><br><span class="line">__irshift__(self, other)          定义赋值按位右移位的行为：&gt;&gt;&#x3D;</span><br><span class="line">__iand__(self, other)             定义赋值按位与操作的行为：&amp;&#x3D;</span><br><span class="line">__ixor__(self, other)             定义赋值按位异或操作的行为：^&#x3D;</span><br><span class="line">__ior__(self, other)              定义赋值按位或操作的行为：|&#x3D;</span><br></pre></td></tr></table></figure>
<h2 id="一元运算相关魔术方法"><a href="#一元运算相关魔术方法" class="headerlink" title="一元运算相关魔术方法"></a>一元运算相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__pos__(self)      定义正号的行为：+x</span><br><span class="line">__neg__(self)      定义负号的行为：-x</span><br><span class="line">__abs__(self)      定义当被 abs() 调用时的行为</span><br><span class="line">__invert__(self)   定义按位求反的行为：~x</span><br></pre></td></tr></table></figure>
<h2 id="类型转换相关魔术方法-JIANG"><a href="#类型转换相关魔术方法-JIANG" class="headerlink" title="类型转换相关魔术方法 JIANG"></a>类型转换相关魔术方法 JIANG</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__complex__(self)      定义当被 complex() 调用时的行为（需要返回恰当的值）</span><br><span class="line">__int__(self)          定义当被 int() 调用时的行为（需要返回恰当的值）</span><br><span class="line">__float__(self)        定义当被 float() 调用时的行为（需要返回恰当的值）</span><br><span class="line">__round__(self[, n])   定义当被 round() 调用时的行为（需要返回恰当的值）</span><br><span class="line">__index(self)__        1. 当对象是被应用在切片表达式中时，实现整形强制转换</span><br><span class="line">                       2. 如果你定义了一个可能在切片时用到的定制的数值型,你应该定义 index</span><br><span class="line">                       3. 如果 index 被定义，则 int 也需要被定义，且返回相同的值</span><br></pre></td></tr></table></figure>
<h2 id="上下文管理相关魔术方法"><a href="#上下文管理相关魔术方法" class="headerlink" title="上下文管理相关魔术方法"></a>上下文管理相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">__enter__() 和 __exit__()</span><br><span class="line"></span><br><span class="line">enter(self)</span><br><span class="line">    1. 定义当使用 with 语句时的初始化行为</span><br><span class="line">    2. enter 的返回值被 with 语句的目标或者 as 后的名字绑定</span><br><span class="line"></span><br><span class="line">exit(self, exctype, excvalue, traceback)</span><br><span class="line">    1. 定义当一个代码块被执行或者终止后上下文管理器应该做什么</span><br><span class="line">    2. 一般被用来处理异常，清除工作或者做一些代码块执行完毕之后的日常工作</span><br></pre></td></tr></table></figure>
<h2 id="容器类型相关魔术方法"><a href="#容器类型相关魔术方法" class="headerlink" title="容器类型相关魔术方法"></a>容器类型相关魔术方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__len__(self)                  定义当被 len() 调用时的行为（返回容器中元素的个数）</span><br><span class="line">__getitem__(self, key)         定义获取容器中指定元素的行为，相当于 self[key]</span><br><span class="line">__setitem__(self, key, value)  定义设置容器中指定元素的行为，相当于 self[key] &#x3D; value</span><br><span class="line">__delitem__(self, key)         定义删除容器中指定元素的行为，相当于 del self[key]</span><br><span class="line">__iter__(self)                 定义当迭代容器中的元素的行为</span><br><span class="line">__reversed__(self)             定义当被 reversed() 调用时的行为</span><br><span class="line">__contains__(self, item)       定义当使用成员测试运算符（in 或 not in）时的行为</span><br></pre></td></tr></table></figure>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">我很可爱，请给我钱</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>WangJin</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="http://example.com/2021/05/28/Python%E5%B8%B8%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95/" title="Python常用魔术方法">http://example.com/2021/05/28/Python%E5%B8%B8%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/07/24/Xpath%E7%9A%84%E8%A7%A3%E6%9E%90%E5%8E%9F%E7%90%86/" rel="prev" title="Xpath数据解析"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Xpath数据解析</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/05/11/%E5%8D%81%E5%B9%B4%E5%89%8D%E5%AD%A6%E5%A7%90%E7%BB%99%E7%9A%84%E7%AC%94%E8%AE%B0%E7%BB%88%E4%BA%8E%E8%AE%A9%E6%88%91%E6%98%8E%E7%99%BD%E4%BA%86%E4%BB%80%E4%B9%88%E6%98%AF%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%81/" rel="next" title="十年前学姐给的笔记终于让我明白了什么是装饰器！"><span class="post-nav-text">十年前学姐给的笔记终于让我明白了什么是装饰器！</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> WangJin</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.3.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.8.6</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>